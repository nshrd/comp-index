# ‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ CBMA14 Index –Ω–∞ VPS

## üöÄ –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç - –ø–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- VPS —Å Ubuntu 20.04+ / Debian 11+ / CentOS 8+
- 2GB+ RAM, 20GB+ SSD
- Root –¥–æ—Å—Ç—É–ø

### üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:

```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
wget -O deploy.sh https://raw.githubusercontent.com/nshrd/comp-index/main/deploy.sh
chmod +x deploy.sh
sudo bash deploy.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Docker –∏ Docker Compose
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç firewall (–ø–æ—Ä—Ç—ã 80, 443, 22)
- ‚úÖ –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ `/opt/cbma14`
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

### üîß –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   nano /opt/cbma14/.env.prod
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   cd /opt/cbma14
   sudo bash deploy.sh ssl
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**
   ```bash
   curl http://YOUR_SERVER_IP/health
   ```

### üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
cbma14-status

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
cbma14-update

# –ë—ç–∫–∞–ø
cbma14-backup

# –õ–æ–≥–∏
docker compose -f /opt/cbma14/docker-compose.prod.yml logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose -f /opt/cbma14/docker-compose.prod.yml restart
```

### üåê –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É:

- **HTTP**: `http://YOUR_SERVER_IP`
- **HTTPS**: `https://YOUR_DOMAIN` (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL)
- **API**: `http://YOUR_SERVER_IP/api/status`

### üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü–æ–º–æ—â—å
sudo bash deploy.sh help

# –¢–æ–ª—å–∫–æ SSL
sudo bash deploy.sh ssl

# –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo bash deploy.sh update

# –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ç—É—Å
sudo bash deploy.sh status

# –¢–æ–ª—å–∫–æ –±—ç–∫–∞–ø
sudo bash deploy.sh backup
```

### üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞:

1. –£–∫–∞–∂–∏—Ç–µ A-–∑–∞–ø–∏—Å—å –≤ DNS:
   ```
   A    @              YOUR_SERVER_IP
   A    www            YOUR_SERVER_IP
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```bash
   sed -i 's/your-domain.com/YOUR_DOMAIN/g' /opt/cbma14/.env.prod
   sed -i 's/your-domain.com/YOUR_DOMAIN/g' /opt/cbma14/nginx/prod.conf
   ```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
   ```bash
   cd /opt/cbma14
   docker compose -f docker-compose.prod.yml restart
   ```

### üîí –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ:

- **SSL/TLS**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã Let's Encrypt
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Security headers, CORS, CSP
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Gzip, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, HTTP/2
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –õ–æ–≥–∏, —Å—Ç–∞—Ç—É—Å, –º–µ—Ç—Ä–∏–∫–∏
- **–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker compose -f /opt/cbma14/docker-compose.prod.yml logs -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost/health
```

### üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
cd /opt/cbma14
docker compose -f docker-compose.prod.yml restart

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker compose -f docker-compose.prod.yml down
docker compose -f docker-compose.prod.yml up -d --build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :80
netstat -tlnp | grep :443

# –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall
ufw status
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à CBMA14 Index —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ —Å:
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å Coinbase/Coinglass
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–º HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è: 5-10 –º–∏–Ω—É—Ç** üöÄ 